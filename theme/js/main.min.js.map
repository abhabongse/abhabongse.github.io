{"version":3,"sources":["common.js","gallery-card.js","render-katex.js","sticky-nav-title.js"],"names":["window","document","ready","func","readyState","addEventListener","querySelectorAll","forEach","image","container","closest","ratio","attributes","width","value","height","style","flex","mathItem","katex","render","textContent","throwOnError","displayMode","Casper","stickyNavTitle","options","nav","querySelector","navSelector","title","titleSelector","lastScrollY","scrollY","ticking","update","getBoundingClientRect","top","offsetHeight","classList","add","activeClass","remove","requestAnimationFrame","requestTick","passive"],"mappings":"CAGA,SAAWA,EAAQC,GACfD,EAAOE,MAAQ,SAAeC,GACE,YAAxBF,EAASG,WACTD,IAEAF,EAASI,iBAAiB,mBAAoBF,IAL1D,CAQGH,OAAQC;CCDX,SAAmBA,GAYfA,EAASI,iBAAiB,mBAXI,WACbJ,EAASK,iBAAiB,yBAChCC,QAAQ,SAAUC,GACrB,IAAIC,EAAYD,EAAME,QAAQ,qBAG1BC,EAFQH,EAAMI,WAAWC,MAAMC,MACtBN,EAAMI,WAAWG,OAAOD,MAErCL,EAAUO,MAAMC,KAAON,EAAQ,YAR3C,EAaGX,OAAQC;CCnBX,SAAmBA,GACfC,MAAM,WACFD,EAASK,iBAAiB,gBAAgBC,QAAQ,SAAUW,GACxDC,MAAMC,OAAOF,EAASG,YAAaH,EAAU,CAAEI,cAAc,MAEjErB,EAASK,iBAAiB,iBAAiBC,QAAQ,SAAUW,GACzDC,MAAMC,OAAOF,EAASG,YAAaH,EAAU,CAAEK,aAAa,EAAMD,cAAc,QAN5F,EASGtB,OAAQC;CCIX,SAAWD,EAAQC,GAEVD,EAAOwB,SACRxB,EAAOwB,OAAS,IAGpBxB,EAAOwB,OAAOC,eAAiB,SAAwBC,GACnD,IAAIC,EAAM1B,EAAS2B,cAAcF,EAAQG,aACrCC,EAAQ7B,EAAS2B,cAAcF,EAAQK,eAEvCC,EAAchC,EAAOiC,QACrBC,GAAU,EAcd,SAASC,IACSL,EAAMM,wBAAwBC,IAAMrC,EAAOiC,SACrCH,EAAMQ,aAAe,KAGrCN,EACAL,EAAIY,UAAUC,IAAId,EAAQe,aAE1Bd,EAAIY,UAAUG,OAAOhB,EAAQe,aAGjCP,GAAU,EAGdlC,EAAOK,iBAAiB,SA1BxB,WACI2B,EAAchC,EAAOiC,QAIzB,WACSC,GACDS,sBAAsBR,GAE1BD,GAAU,EAPVU,IAwBwC,CAACC,SAAS,IAEtDV,KAzCR,CA2CGnC,OAAQC","file":"main.min.js","sourcesContent":["/**\n * Common utility functions.\n */\n(function (window, document) {\n    window.ready = function ready(func) {\n        if (document.readyState !== 'loading') {\n            func();\n        } else {\n            document.addEventListener('DOMContentLoaded', func);\n        }\n    };\n})(window, document);\n","/* eslint-env browser */\n\n/**\n * Gallery card support\n * Used on any individual post/page\n *\n * Detects when a gallery card has been used and applies sizing to make sure\n * the display matches what is seen in the editor.\n */\n\n(function (window, document) {\n    var resizeImagesInGalleries = function resizeImagesInGalleries() {\n        var images = document.querySelectorAll('.kg-gallery-image img');\n        images.forEach(function (image) {\n            var container = image.closest('.kg-gallery-image');\n            var width = image.attributes.width.value;\n            var height = image.attributes.height.value;\n            var ratio = width / height;\n            container.style.flex = ratio + ' 1 0%';\n        });\n    };\n\n    document.addEventListener('DOMContentLoaded', resizeImagesInGalleries);\n})(window, document);\n","/*\nRender embedded KaTeX math within <span class=\"math-inline\"></span>.\n*/\n\n(function (window, document) {\n    ready(function () {\n        document.querySelectorAll('.math-inline').forEach(function (mathItem) {\n            katex.render(mathItem.textContent, mathItem, { throwOnError: false });\n        });\n        document.querySelectorAll('.math-display').forEach(function (mathItem) {\n            katex.render(mathItem.textContent, mathItem, { displayMode: true, throwOnError: false });\n        });\n    });\n})(window, document);\n","/* eslint-env browser */\n\n/**\n * Nav/Title replacement\n * Used on individual post pages, displays the post title in place of the nav\n * bar when scrolling past the title\n *\n * Usage:\n * ```\n * Casper.stickyTitle({\n *     navSelector: '.site-nav-main',\n *     titleSelector: '.post-full-title',\n *     activeClass: 'nav-post-title-active'\n * });\n * ```\n */\n\n(function (window, document) {\n    // set up Casper as a global object\n    if (!window.Casper) {\n        window.Casper = {};\n    }\n\n    window.Casper.stickyNavTitle = function stickyNavTitle(options) {\n        var nav = document.querySelector(options.navSelector);\n        var title = document.querySelector(options.titleSelector);\n\n        var lastScrollY = window.scrollY;\n        var ticking = false;\n\n        function onScroll() {\n            lastScrollY = window.scrollY;\n            requestTick();\n        }\n\n        function requestTick() {\n            if (!ticking) {\n                requestAnimationFrame(update);\n            }\n            ticking = true;\n        }\n\n        function update() {\n            var trigger = title.getBoundingClientRect().top + window.scrollY;\n            var triggerOffset = title.offsetHeight + 35;\n\n            // show/hide post title\n            if (lastScrollY >= trigger + triggerOffset) {\n                nav.classList.add(options.activeClass);\n            } else {\n                nav.classList.remove(options.activeClass);\n            }\n\n            ticking = false;\n        }\n\n        window.addEventListener('scroll', onScroll, {passive: true});\n\n        update();\n    };\n})(window, document);\n"]}